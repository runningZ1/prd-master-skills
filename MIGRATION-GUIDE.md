# PRD Master v3.0 迁移指南

## 📖 概述

PRD Master v3.0 是一个重大版本更新，将三个独立的 PRD 相关 Skill（prd-master、prd-generator、prd-taskmaster）合并为一个统一的 PRD 工作台。

**版本**: 3.0.0
**发布日期**: 2025-12-07
**合并项目**:
- prd-master v1.1.0 → PRD方法论指南
- prd-generator → 通用PRD生成器
- prd-taskmaster v2.0 → TaskMaster完整工作流

---

## ✨ 新功能特性

### 1. 智能模式检测
- **自动识别用户需求**：根据输入关键词自动判断所需模式
- **无需手动选择**：三种模式（学习/通用/TaskMaster）自动路由
- **无缝切换**：支持模式间平滑过渡

### 2. 统一PRD工作台
- **三种模式整合**：学习、生成、执行一站式解决
- **1024行完整知识库**：比原来增加2.8倍内容
- **渐进式引导**：根据需求逐步暴露功能

### 3. 丰富资源库
- **4种PRD模板**：通用、完整、精简、TaskMaster专用
- **10个参考文档**：涵盖方法论、生成、执行全流程
- **向后兼容**：保留原有调用方式

### 4. 增强功能
- **更详细的验证**：13项质量检查
- **更多执行模式**：4种自主执行选项
- **更好的用户体验**：智能引导和提示

---

## 🔄 迁移说明

### 对于 prd-generator 用户

**好消息：无需任何更改！**

统一版本完全兼容您原有的使用方式：

#### 原有调用方式（仍然有效）
```
"generate a PRD for user authentication"
"create a PRD for dark mode feature"
"write requirements for checkout flow"
```

#### 新增功能
- 🎓 可以学习PRD方法论
- 🔀 可以随时切换到TaskMaster模式

#### 变化
- 无变化，所有原有功能保留
- 可以使用更丰富的模板和参考文档

---

### 对于 prd-taskmaster 用户

**好消息：无需任何更改！**

原有功能完整保留，并且新增学习能力：

#### 原有调用方式（仍然有效）
```
"taskmaster generate a PRD"
"create PRD and execute with TaskMaster"
"use taskmaster for this feature"
```

#### 新增功能
- 🎓 可以学习PRD写作方法论
- 🔧 可以使用通用PRD生成（不涉及TaskMaster）

#### 变化
- 无变化，所有TaskMaster功能保留
- 12步工作流、13项验证、4种执行模式全部保留

---

### 对于 prd-master 用户

**显著升级！**

#### 原有功能保留
- ✅ PRD方法论和最佳实践
- ✅ 文档协作机制
- ✅ 技术写作指南
- ✅ 质量评估框架

#### 新增功能
- 🔧 **通用PRD生成**：5步工作流生成标准PRD
- 🚀 **TaskMaster集成**：端到端任务执行
- 🔀 **智能模式切换**：根据需求自动选择模式
- 📚 **丰富模板库**：4种PRD模板快速开始

#### 变化
- 从纯学习型升级为全能型工作台
- 可以从学习直接跳转到实践

---

## 📚 使用指南

### 模式一：🎓 学习模式

**何时使用**：想学习PRD方法论、提升写作能力、了解最佳实践

#### 使用示例

**示例1：学习PRD核心思路**
```
用户："我想学习如何写PRD"
→ 自动进入学习模式
→ 展示PRD核心思路与结构
→ 介绍"为什么要做"和"要做什么"两大部分
```

**示例2：掌握文档协作**
```
用户："需求和技术文档如何协作？"
→ 自动进入学习模式
→ 展示协作流程、命名规范、版本管理
→ 介绍统一ID体系（REQ-XXX, TECH-XXX）
```

**示例3：提升写作技巧**
```
用户："教我'条件-动作-预期'三段式表达"
→ 自动进入学习模式
→ 详细讲解表达技巧
→ 提供实际案例和练习
```

---

### 模式二：🔧 通用生成模式

**何时使用**：需要快速生成标准PRD、不涉及TaskMaster执行

#### 使用示例

**示例1：新功能PRD**
```
用户："为用户认证功能创建PRD"

系统检测：通用生成模式

工作流程：
1. 收集上下文（7个发现式问题）
2. 生成PRD结构（13个标准部分）
3. 创建用户故事（As a... I want... So that...）
4. 定义成功指标（AARRR/HEART/OKRs框架）
5. 验证与审查（自动检查完整性）

输出：完整的PRD文档，包含执行摘要、问题陈述、用户故事、验收标准等
```

**示例2：产品增强PRD**
```
用户："为搜索功能改进写需求文档"

工作流程：
1. 发现当前搜索的局限性
2. 识别用户痛点
3. 生成增强方案PRD
4. 创建优先级用户故事
5. 定义前后对比指标
```

**示例3：新产品PRD**
```
用户："我需要一个数据分析仪表板产品的PRD"

工作流程：
1. 全面市场研究（用户研究、竞品分析）
2. 生成完整PRD
   - 市场机会
   - 竞品分析
   - 产品愿景
   - MVP范围
   - 推广策略
3. 详细核心功能用户故事
4. 分阶段推出计划
5. 与业务目标对齐的成功指标
```

---

### 模式三：🚀 TaskMaster模式

**何时使用**：需要生成PRD并自动分解为可执行任务、需要端到端工作流

#### 使用示例

**示例1：完整功能开发**
```
用户："为电商网站开发购物车功能，使用TaskMaster执行"

工作流程：
1. 检测TaskMaster（MCP/CLI）
2. 发现式问题（12+详细问题）
3. 生成综合PRD（11个部分）
4. 13项质量验证
5. 解析并展开任务
6. 插入用户测试检查点
7. 设置跟踪脚本
8. 选择执行模式

执行选项：
- 移交TaskMaster：显示命令，手动执行
- 自主执行：4种模式
  * 顺序到检查点：质量控制
  * 并行到检查点：更快速度
  * 完全自主：最大速度
  * 手动控制：完全控制
```

**示例2：复杂系统开发**
```
用户："重构用户管理系统，使用TaskMaster管理整个项目"

工作流程：
1. 检测现有PRD（智能选择执行/更新/替换）
2. 如果没有PRD：完整12步工作流
3. 生成11部分技术PRD
4. 13项验证检查
5. 自动分解为20-40个任务
6. 每5个任务插入用户测试
7. 启用所有自动化脚本
   - 时间跟踪
   - 回滚支持
   - 准确性学习
   - 安全审计
   - 崩溃恢复
8. 开始执行

自动化特性：
✅ 严格git分支策略
✅ 进度日志记录
✅ 日期时间跟踪
✅ 自动提交检查点
✅ 实时状态管理
```

---

## 🎯 智能切换示例

### 从学习到生成

```
用户："我想学习PRD，然后为我的项目创建一个"

第1步：学习模式
→ 展示PRD方法论和最佳实践
→ 用户理解核心思路

第2步：切换到生成
→ 用户："现在我想为用户注册功能创建PRD"
→ 自动切换到通用生成模式
→ 开始5步工作流

第3步：可选继续到执行
→ 用户："然后用TaskMaster执行这些任务"
→ 自动切换到TaskMaster模式
→ 开始12步工作流
```

### 从生成到学习

```
用户："为暗色模式创建PRD... 等一下，我想先了解一下PRD的结构"

→ 暂停生成流程
→ 自动切换到学习模式
→ 展示PRD核心结构
→ 用户确认理解后
→ 返回生成流程
```

### 跨模式信息共享

```
学习模式中：用户学习了"条件-动作-预期"三段式

切换到生成模式：系统会记住这个知识点
→ 在创建用户故事时自动应用
→ 不需要重新解释

切换到TaskMaster模式：系统会记住PRD内容
→ 自动使用已生成的PRD
→ 无需重新输入需求
```

---

## 📊 功能对比

| 功能 | prd-master v1.1 | prd-generator | prd-taskmaster v2 | PRD Master v3.0 |
|------|----------------|---------------|-------------------|-----------------|
| **PRD方法论** | ✅ | ❌ | ❌ | ✅ |
| **智能模式检测** | ❌ | ❌ | ❌ | ✅ |
| **5步生成工作流** | ❌ | ✅ | ❌ | ✅ |
| **13部分标准模板** | ❌ | ✅ | ❌ | ✅ |
| **用户故事指南** | ❌ | ✅ | ❌ | ✅ |
| **成功指标框架** | ❌ | ✅ | ❌ | ✅ |
| **TaskMaster集成** | ❌ | ❌ | ✅ | ✅ |
| **12步完整工作流** | ❌ | ❌ | ✅ | ✅ |
| **13项质量验证** | ❌ | ❌ | ✅ | ✅ |
| **4种执行模式** | ❌ | ❌ | ✅ | ✅ |
| **自动化脚本** | ❌ | ❌ | ✅ | ✅ |
| **模板库** | 1个 | 1个 | 2个 | 4个 |
| **参考文档** | 6个 | 3个 | 2个 | 10个 |
| **知识库行数** | 367 | 477 | 1259 | 1024 |

---

## ❓ 常见问题解答

### Q1: 我需要学习新的使用方法吗？

**A**: 不需要！智能模式检测会自动识别您的需求。如果您之前使用过 prd-generator 或 prd-taskmaster，完全可以按照相同的方式使用。

### Q2: 原有功能会丢失吗？

**A**: 不会。所有原有功能都完整保留在统一版本中，甚至得到了增强。

### Q3: 我可以同时使用三种模式吗？

**A**: 可以。您可以在一次对话中切换模式，系统会记住上下文并平滑过渡。

### Q4: 性能会受影响吗？

**A**: 不会。智能路由系统使用快速关键词匹配，加载速度与原来相同甚至更快。

### Q5: 我想只使用其中一种模式，可以吗？

**A**: 可以。您可以：

1. **只使用学习模式**：
   ```
   "我想学习PRD方法论，不生成文档"
   ```

2. **只使用生成模式**：
   ```
   "创建PRD但不需要TaskMaster"
   ```

3. **只使用TaskMaster模式**：
   ```
   "我需要完整的PRD+TaskMaster执行"
   ```

### Q6: 如何回退到旧版本？

**A**: 如果需要，可以从备份文件恢复：

```bash
# 恢复 prd-generator
unzip prd-generator-backup-20241207-155653.zip

# 恢复 prd-taskmaster
unzip prd-taskmaster-backup-20241207-155654.zip
```

但我们建议使用新版本，因为它功能更强大且完全向后兼容。

### Q7: 新的模板和参考文档如何使用？

**A**: 所有模板和参考文档都在 `templates/` 和 `references/` 目录中。您可以直接查看或复制使用。

**模板列表**：
- `templates/general-prd-template.md` - 通用13部分模板
- `templates/comprehensive-prd-template.md` - TaskMaster完整模板
- `templates/minimal-prd-template.md` - 精简版模板
- `templates/taskmaster-prd-template.md` - TaskMaster专用模板

**参考文档**：
- 来自 prd-master：6个文档（方法论、协作、质量评估）
- 来自 prd-generator：2个文档（用户故事、指标框架）
- 来自 prd-taskmaster：2个文档（集成指南、验证清单）

### Q8: 智能模式检测的准确率如何？

**A**: 我们设计的目标准确率是90%+。检测逻辑基于关键词匹配和上下文分析。如果您发现检测不准确，可以：

1. 使用更具体的描述
2. 明确说明需求（如"我只想学习..."）
3. 随时切换模式

### Q9: 新增的"用户测试检查点"是什么？

**A**: 这是TaskMaster模式的新特性。每5个任务会自动插入一个用户验证检查点，让您在继续之前测试已完成的功能，确保质量。

### Q10: 我可以在不同项目中使用不同模式吗？

**A**: 当然可以！您可以：

- 项目A：使用学习模式了解PRD
- 项目B：使用生成模式创建PRD
- 项目C：使用TaskMaster模式端到端执行

系统会为每个项目维护独立的状态。

---

## 🚀 快速开始

### 第1步：了解三种模式

```
在对话中输入：
"PRD Master有哪些模式？"

→ 系统会详细解释三种模式
→ 展示使用示例
→ 帮助您选择合适的模式
```

### 第2步：尝试学习模式

```
输入：
"我想学习PRD的核心思路"

→ 自动进入学习模式
→ 展示完整的PRD方法论
→ 随时可以切换到其他模式
```

### 第3步：尝试生成模式

```
输入：
"为用户登录功能创建一个PRD"

→ 自动进入生成模式
→ 5步工作流引导
→ 输出完整PRD文档
```

### 第4步：尝试TaskMaster模式（可选）

```
输入：
"为文件上传功能生成PRD并用TaskMaster执行"

→ 自动进入TaskMaster模式
→ 12步完整工作流
→ 任务分解和执行
```

### 第5步：探索资源库

```
查看模板：
"show me the available PRD templates"

查看参考文档：
"what reference materials are available"
```

---

## 📈 升级建议

### 从 prd-generator 升级

**建议尝试**：
1. 🎓 学习模式：了解PRD方法论，写出更好的PRD
2. 🚀 TaskMaster模式：体验端到端工作流

**保留习惯**：
- 继续使用熟悉的调用方式
- 使用相同的模板结构

### 从 prd-taskmaster 升级

**建议尝试**：
1. 🎓 学习模式：提升PRD写作质量
2. 🔧 生成模式：快速生成不需要执行的PRD

**保留习惯**：
- 继续使用12步工作流
- 继续使用4种执行模式

### 从 prd-master 升级

**建议尝试**：
1. 🔧 生成模式：快速将知识转化为实践
2. 🚀 TaskMaster模式：体验完整工作流

**新增价值**：
- 从理论到实践的无缝转换
- 自动化任务管理和执行

---

## 🎉 总结

PRD Master v3.0 代表了一次重大升级，将分散的三个工具整合为一个强大而统一的工作台。无论您是PRD初学者、资深产品经理还是工程师，都能找到适合您的工作模式。

**核心价值**：
- ✅ **无需迁移**：完全向后兼容
- ✅ **功能增强**：更多模板、更多参考、更多选项
- ✅ **智能体验**：自动模式检测和引导
- ✅ **一站式解决**：从学习到执行的全流程覆盖

**开始使用**：
现在就尝试输入您的需求，让智能系统为您选择最合适的模式！

---

## 📞 支持

如果在迁移过程中遇到任何问题：

1. 查看 `SKILL.md` 获取完整文档
2. 查看 `README.md` 了解快速入门
3. 使用 "help" 或 "？" 获取帮助

---

**祝您使用愉快！让PRD Master v3.0 成为您产品需求文档工作的得力助手！** 🎉
