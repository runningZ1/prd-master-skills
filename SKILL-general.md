# 通用PRD生成模式 - 5步工作流

## 适用场景

**适合**所有需要将想法转换为标准PRD的场景，无需TaskMaster。

**典型用户**：产品经理、业务分析师、创业者、项目经理

**输出**：完整的PRD文档，可直接用于团队评审和开发

---

## 5步核心工作流

### Step 1: 收集上下文（7个核心问题）

我会提出7个关键问题来理解您的需求。如果某些信息已明确，请直接告诉我，我会跳过相关问题。

**核心问题清单**：

1. **功能/产品名称** - 我们要构建什么？
   - 例："用户认证系统"、"移动端购物车"、"数据导出功能"

2. **问题陈述** - 这个问题要解决什么？
   - 例："用户忘记密码无法登录，每月产生100+客服工单"

3. **目标用户** - 这是为谁准备的？
   - 例："所有注册用户"、"移动端用户"、"管理员角色"

4. **业务目标** - 我们要达到什么目标？
   - 例："减少50%客服工单"、"提升用户注册转化率20%"

5. **成功指标** - 我们如何衡量成功？
   - 例："登录成功率>95%"、"平均登录时间<2秒"

6. **时间线/约束** - 有什么截止日期或限制？
   - 例："必须在Q1上线"、"使用现有技术栈"

7. **范围边界** - 明确不在范围内的是什么？
   - 例："不支持社交登录"、"不做移动端适配"

**提示**：即使回答不充分，我也会基于经验生成合理的PRD，并标注出需要进一步澄清的地方。

---

### Step 2: 生成PRD结构（11个精简部分）

基于收集的信息，我会生成包含以下11个部分的PRD文档：

#### 必需部分（所有PRD都包含）：

1. **执行摘要（2-3句）**
   - 问题：当前用户遇到什么问题
   - 方案：我们如何解决这个问题
   - 影响：预期产生什么业务价值

2. **问题陈述**
   - 当前情况：现状是什么
   - 用户影响：谁受影响，如何影响
   - 业务影响：成本、机会

3. **目标与成功指标**
   - 3-5个具体目标
   - 每个目标包含：指标、基线、目标、时间框架
   - 例："将登录失败率从10%降低到2%（3个月）"

4. **用户故事（3-7个核心故事）**
   - 格式：As a [用户], I want [功能], so that [价值]
   - 每个故事包括优先级（P0/P1/P2）
   - 每个故事包括验收标准（3-5条）

5. **功能需求**
   - 编号：REQ-001, REQ-002...
   - 优先级：必须有/应该有/可以有
   - 简短描述（1-2句）

6. **技术考虑**
   - API接口（POST/GET等）
   - 数据库影响
   - 依赖系统

7. **范围边界**
   - 范围内：明确包含的核心功能
   - 范围外：明确排除的功能

#### 可选部分（根据复杂度添加）：

8. **用户画像** - 如果影响多类型用户
9. **设计与UX需求** - 如果需要新界面
10. **时间线与里程碑** - 如果有时间限制
11. **风险与缓解** - 如果有明显风险

**文档位置**：`.taskmaster/docs/prd.md` 或项目根目录的 `PRD.md`

---

### Step 3: 创建用户故事（标准格式）

每个功能需求都会被转换为标准的敏捷用户故事格式。

**标准模板**：
```markdown
### Story: [功能名称]

**As a** [用户角色]
**I want to** [执行操作]
**So that I can** [获得价值]

**Acceptance Criteria:**
- [ ] Given [前提条件], when [执行操作], then [预期结果]
- [ ] Given [前提条件], when [执行异常操作], then [错误处理]
- [ ] Given [另一个场景], when [操作], then [结果]
- [ ] [边界情况检查]

**Priority:** P0/P1/P2
**Complexity:** S/M/L
```

**好的验收标准示例**：
```
✅ P0: 使用有效邮箱和密码登录时，成功跳转到仪表盘
✅ P0: 使用错误密码登录时，显示"密码错误"提示
✅ P1: 连续5次失败时，临时锁定账号15分钟
✅ P2: 加载时间在95%情况下小于1秒
```

**差的验收标准示例**：
```
❌ "用户能登录系统"（太模糊）
❌ "界面美观大方"（无法验证）
❌ "性能良好"（没有具体指标）
```

---

### Step 4: 定义成功指标

我会根据功能类型推荐适用的度量框架。

#### 常见框架：

**1. AARRR（海盗指标）- 获客类产品**
- Acquisition（获取）：新用户注册
- Activation（激活）：首次登录
- Retention（留存）：7日留存率
- Revenue（收入）：付费用户转化
- Referral（推荐）：推荐用户数

**2. HEART框架 - 用户体验**
- Happiness（满意度）：NPS评分
- Engagement（参与）：日活跃/月活跃比
- Adoption（采用）：功能使用率
- Retention（留存）：用户留存
- Task Success（任务成功）：任务完成率

**3. 北极星指标 - 核心价值**
- 单一指标代表产品价值
- 例：滴滴的"成单率"、Slack的"消息数"、Zoom的"会议时长"

**4. SMART目标**
- Specific（具体的）
- Measurable（可衡量的）
- Achievable（可实现的）
- Relevant（相关的）
- Time-bound（有时限的）

**示例**：
```markdown
### 成功指标

1. **登录成功率**
   - 当前：85%（基线）
   - 目标：95%（Q1实现）
   - 衡量：每100次登录尝试中的成功次数

2. **平均登录时间**
   - 当前：3.2秒
   - 目标：<2秒
   - 衡量：从输入密码到登录成功的95分位响应时间

3. **支持工单减少**
   - 当前：120个/月（登录相关问题）
   - 目标：30个/月（75%减少）
   - 衡量：客服系统标签统计
```

---

### Step 5: 验证与交付

**自动检查清单**：
- [x] 必需部分都已完成（执行摘要、问题陈述、用户故事、范围）
- [x] 用户故事有3-5个验收标准
- [x] 成功指标具体且可验证
- [x] 范围边界明确
- [ ] 无占位符文本（如示例数据）

**输出交付物**：
1. **PRD文档**（Markdown格式）
2. **文件位置**：`.taskmaster/docs/prd.md`
3. **可选择位置**：项目根目录的`PRD.md`

**后续步骤**：
1. 将PRD提交团队评审
2. 创建技术方案文档（技术细节）
3. （如使用TaskMaster）将需求解析为任务

---

## 快速开始示例

**用户输入**：
> "为用户认证功能创建PRD，包括登录、注册、密码重置"

**系统自动执行**：
1. ✅ 收集上下文：询问目标用户、业务目标
2. ✅ 生成11部分文档：执行摘要、问题陈述、用户故事等
3. ✅ 创建用户故事：新用户注册、用户登录、密码重置
4. ✅ 定义指标：成功率、登录时间、安全性
5. ✅ 完成PRD：约10-15分钟生成完整文档

**输出示例**：见 `templates/general-prd-template.md`

---

## 最佳实践

### 好的需求特征
- ✅ **具体**："使用邮箱和密码登录"而非"实现登录"
- ✅ **可验证**：验收标准有明确的条件
- ✅ **有价值**：连接业务目标和用户价值
- ✅ **有边界**：明确说明什么不做（范围外）
- ✅ **有时限**：给出时间线或优先级

### 常见反模式
- ❌ 技术实现细节（让工程师决定"如何"）
- ❌ 模糊语言（"快"、"好"、"直观"）
- ❌ 功能蔓延（一次想解决所有问题）
- ❌ 缺乏验证标准（无法验证完成度）
- ❌ 忽略边界情况（只考虑快乐路径）

---

## 参考资源

- [用户故事示例](references/user_story_examples.md) - 编写验收标准的模式
- [指标框架](references/metrics_frameworks.md) - AARRR、HEART、OKRs等
- [PRD案例](references/case-user-registration.md) - 完整用户注册功能PRD
- [模板库](templates/) - 可直接使用的PRD模板

---

**时长**：从想法到PRD平均15-20分钟
**质量**：产出生产级PRD，团队可直接评审和开发
**兼容性**：可与TaskMaster集成，自动分解任务
